log             none

variable        vT              equal   2000
variable        vP              equal   0.0
variable        vTimestep       equal   0.002
variable        vCooldownTdamp  equal   0.2
variable        vRunStep        equal   50000
variable        vThermoStep     equal   10000
variable        vInRestartPath  string  lmp/.temp/restart/melt-Cu108-init
variable        vOutRestartPath string  lmp/.temp/restart/melt-Cu108

variable        vBeginIdx       equal   0
variable        vEndIdx         equal   5
variable        tIdx            equal   ${vBeginIdx}

read_restart    ${vInRestartPath}
timestep        ${vTimestep}

pair_style      lj/cut  3.6
pair_coeff      1 1 0.167 2.314 3.6

thermo          ${vThermoStep}
thermo_style    custom step temp press vol pe ke etotal enthalpy
thermo_modify   flush yes

fix             1 all npt temp ${vT} ${vT} ${vCooldownTdamp} iso ${vP} ${vP} 2

label           loop
run             ${vRunStep}

variable        tOutRestartPath string  ${vOutRestartPath}-${tIdx}
write_restart   ${tOutRestartPath}

# increase index and loop
variable        tIdx            equal   ${tIdx}+1
if              "${tIdx} < ${vEndIdx}" then "jump SELF loop" else "jump SELF break"
label           break

