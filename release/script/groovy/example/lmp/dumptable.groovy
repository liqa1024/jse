package example.lmp

import jse.lmp.Dump

import static jse.code.UT.Math.*

// 读取现有的 lammps dump 文件
def dump = Dump.read('lmp/dump/CuFCC108.lammpstrj')

// 获取某一帧并转为表格
def table = dump[4].asTable();
// 修改 x 列
println('origin x: ' + table['x'])
table['x'].plus2this(10)
println('new x: ' + table['x'])
// 增加新列
println('origin heads: ' + table.heads())
table['rand'] = rand(table.nrows())
println('new heads: ' + table.heads())

// 输出文件
dump.write('.temp/example/lmp/dumpSet')


//OUTPUT:
// origin x: 108-length Vector:
//    4.930   10.31   2.890   3.056   4.018   4.987   9.465   5.587   3.540   4.887   2.295   11.29   0.5454   1.906   10.05   6.756   9.047   8.961   3.501   8.416   7.247   9.293   5.932   10.58   4.894   5.206   1.407   3.773   9.653   3.501   -0.4250   1.664   2.502   0.8281   8.881   7.161   2.508   5.198   5.660   6.067   9.358   7.499   8.401   1.051   8.111   6.262   7.517   11.17   7.897   6.256   2.552   8.525   10.71   7.682   9.914   4.068   0.3336   2.277   1.830   2.252   0.5642   2.578   3.593   1.207   10.40   1.999   0.9149   5.471   4.694   -0.1576   3.473   6.807   7.044   9.478   9.258   7.583   5.475   6.829   6.617   9.020   11.29   2.676   1.807   5.102   5.407   -0.3212   3.975   1.233   1.898   6.341   0.4170   2.287   5.223   4.103   7.214   9.848   9.119   10.58   8.752   7.540   9.372   -0.4010   4.673   0.01534   8.917   10.93   8.901   4.909
// new x: 108-length Vector:
//    14.93   20.31   12.89   13.06   14.02   14.99   19.46   15.59   13.54   14.89   12.29   21.29   10.55   11.91   20.05   16.76   19.05   18.96   13.50   18.42   17.25   19.29   15.93   20.58   14.89   15.21   11.41   13.77   19.65   13.50   9.575   11.66   12.50   10.83   18.88   17.16   12.51   15.20   15.66   16.07   19.36   17.50   18.40   11.05   18.11   16.26   17.52   21.17   17.90   16.26   12.55   18.53   20.71   17.68   19.91   14.07   10.33   12.28   11.83   12.25   10.56   12.58   13.59   11.21   20.40   12.00   10.91   15.47   14.69   9.842   13.47   16.81   17.04   19.48   19.26   17.58   15.48   16.83   16.62   19.02   21.29   12.68   11.81   15.10   15.41   9.679   13.97   11.23   11.90   16.34   10.42   12.29   15.22   14.10   17.21   19.85   19.12   20.58   18.75   17.54   19.37   9.599   14.67   10.02   18.92   20.93   18.90   14.91
// origin heads: [id, type, x, y, z, vx, vy, vz]
// new heads: [id, type, x, y, z, vx, vy, vz, rand]

